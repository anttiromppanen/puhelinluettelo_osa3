{"version":3,"sources":["Components/PersonFilter.js","Components/AddPerson.js","Components/Person.js","services/persons.js","Components/Notification.js","App.js","index.js"],"names":["PersonFilter","handleFilterChange","filterValue","onChange","value","AddPerson","addPerson","newName","newNumber","handleNameChange","handleNumberChange","onSubmit","type","Person","name","number","handlePersonDelete","onClick","baseUrl","axios","get","then","res","data","newPerson","post","id","delete","put","Notification","msg","setStyle","errorOrSuccess","border","color","margin","padding","style","App","useState","persons","setPersons","setNewName","setNewNumber","setFilterValue","message","setMessage","setErrorOrSuccess","useEffect","personService","doesPersonExistAlready","find","x","toLowerCase","clearNewName","clearNewNumber","makeLowerCase","word","setMessageHelper","trueForSuccessFalseForError","timeInMs","setTimeout","window","confirm","catch","filter","filterPerson","showPersons","includes","map","e","target","preventDefault","person","updatedPerson","concat","error","response","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.5fad8501.chunk.js","sourcesContent":["import React from 'react'\n\nconst PersonFilter = ({ handleFilterChange, filterValue }) => {\n  return (\n    <div>\n      filter shown with <input onChange={ handleFilterChange } value={ filterValue } />\n    </div>\n  )\n}\n\nexport default PersonFilter\n","import React from 'react'\n\nconst AddPerson = ({ addPerson, newName, newNumber, handleNameChange, handleNumberChange }) => {\n  return (\n    <div>\n      <form onSubmit={ addPerson }>\n        <div>\n          name: <input onChange={ handleNameChange } value={ newName }  />\n        </div>\n        <div>\n          number: <input onChange={ handleNumberChange } value={ newNumber }/>\n        </div>\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n    </div>\n  )\n}\n\nexport default AddPerson\n","import React from 'react'\n\nconst Person = ({ name, number, handlePersonDelete }) => \n  <p key={ name }>\n    { name } { number } <button onClick={  handlePersonDelete }>delete</button>\n  </p>\n\nexport default Person\n","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(res => res.data)\n}\n\nconst create = newPerson => {\n  const request = axios.post(baseUrl, newPerson)\n  return request.then(res => res.data)\n}\n\nconst deletePerson = id => {\n  const request = axios.delete(`${ baseUrl }/${ id }`)\n  return request.then(res => res.data)\n}\n\nconst updatePerson = (id, newPerson) => {\n  const request = axios.put(`${ baseUrl }/${ id }`, newPerson)\n  return request.then(res => res.data)\n}\n\nexport default { getAll, create, deletePerson, updatePerson }\n","import React from 'react'\n\nconst Notification = ({ msg, errorOrSuccess }) => {\n  const successStyle = {\n    border: '5px solid green',\n    color: 'green',\n    margin: '0 5px 30px 5px',\n    padding: 10\n  }\n\n  const errorStyle = {\n    border: '5px solid red',\n    color: 'red',\n    margin: '0 5px 30px 5px',\n    padding: 10\n  }\n\n  const setStyle = errorOrSuccess ? successStyle : errorStyle\n\n  if (msg === null) return null \n  \n  return (\n    <h1 style={ setStyle }>\n      { msg }\n    </h1>\n  )\n}\n\nexport default Notification\n","import React, { useState, useEffect } from 'react'\nimport PersonFilter from './Components/PersonFilter'\nimport AddPerson from './Components/AddPerson'\nimport Person from './Components/Person'\nimport personService from './services/persons'\nimport Notification from './Components/Notification'\n\nconst App = () => {\n  const [ persons, setPersons] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ filterValue, setFilterValue ] = useState('')\n  const [ message, setMessage ] = useState(null)\n  const [ errorOrSuccess, setErrorOrSuccess ] = useState(null)\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(res => setPersons(res))\n  }, [])\n\n  const doesPersonExistAlready = persons\n    .find(x => x.name.toLowerCase() === newName.toLowerCase())\n\n  const clearNewName = () => setNewName('')\n  const clearNewNumber = () => setNewNumber('')\n  const makeLowerCase = word => word.toLowerCase()\n  const filterPerson = name => persons.filter(x => makeLowerCase(x.name) !== makeLowerCase(name))\n  const setMessageHelper = (msg, trueForSuccessFalseForError, timeInMs) => {\n    setMessage(msg)\n    setErrorOrSuccess(trueForSuccessFalseForError)\n    setTimeout(() => {\n      setMessage(null)\n      setErrorOrSuccess(null)\n    }, timeInMs)\n  }\n\n  const handlePersonDelete = (id, name) => {\n    if (!window.confirm(`Delete ${ name }?`)) return\n\n    personService\n      .deletePerson(id)\n      .then(res => {\n        personService\n          .getAll()\n          .then(res => setPersons(res))\n      })\n      .catch(res => {\n        setMessageHelper(`Information of ${ name } has already been removed from server`, false, 3000)\n        setPersons(filterPerson(name))\n      })\n  }\n\n  const showPersons = persons\n    .filter(x => makeLowerCase(x.name).includes(makeLowerCase(filterValue)))\n    .map(x => \n      <Person \n        key={ x.name } \n        name={ x.name } \n        number={ x.number }\n        handlePersonDelete={ () => handlePersonDelete(x.id, x.name) }\n      />\n    )\n\n  const handleNameChange = (e) => {\n    setNewName(e.target.value)\n  }\n\n  const handleNumberChange = (e) => {\n    setNewNumber(e.target.value)\n  }\n\n  const handleFilterChange = (e) => {\n    setFilterValue(e.target.value)\n  }\n\n  const addPerson = (e) => {\n    e.preventDefault()\n\n    const newPerson = {\n      name: newName,\n      number: newNumber\n    }\n\n    if (doesPersonExistAlready) {\n      if (!window.confirm(`${ newName } is already added to phonebook, replace the old number with a new one?`)) {\n        clearNewName()\n        clearNewNumber()\n        return\n      }\n\n      const person = persons.find(x => makeLowerCase(x.name) === makeLowerCase(newName))\n      const updatedPerson = { ...person, number: newNumber }\n\n      personService\n        .updatePerson(person.id, newPerson)\n        .then(res => setPersons(persons.map(x => makeLowerCase(x.name) !== makeLowerCase(newName) ? x : updatedPerson)))\n        .then(res => {\n          setMessageHelper(`Updated number for ${ newPerson.name }`, true, 3000)\n          clearNewName()\n          clearNewNumber()\n        })\n\n        return\n      }\n\n      personService\n        .create(newPerson)\n        .then(res => {\n          setPersons(persons.concat(res))\n          setMessageHelper(`Added ${ res.name }`, true, 3000)\n        })\n        .catch(error => setMessageHelper(error.response.data.error, false, 6000))\n        .then(() => {\n          personService\n            .getAll()\n            .then(res => setPersons(res))\n        })\n     \n\n      clearNewName()\n      clearNewNumber()\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification msg={ message } errorOrSuccess={ errorOrSuccess } />\n      <PersonFilter handleFilterChange={ handleFilterChange } filterValue={ filterValue } />\n      <h2>add a new</h2>\n      <AddPerson\n        addPerson={ addPerson }\n        newName={ newName }\n        newNumber={ newNumber }\n        handleNameChange={ handleNameChange }\n        handleNumberChange={ handleNumberChange }\n      />\n      <h2>Numbers</h2>\n      { showPersons }\n    </div>\n  )\n\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}